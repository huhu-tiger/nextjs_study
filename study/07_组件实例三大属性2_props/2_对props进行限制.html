<html>
    <head>
        <title>props基本使用</title>
        <meta charset="utf-8">
        <script src="https://unpkg.com/react@18/umd/react.development.js"></script>
        <script src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>
        <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
        <!-- 对组件标签属性props进行限制 -->
        <script src="https://unpkg.com/prop-types@15.7.2/prop-types.js"></script>
    </head>
    <body>
        <div id="test"></div>
        <div id="test1"></div>
        <div id="test2"></div>
        <script type="text/babel">
            let names = [{id:1,name:"张三",age:18},
                        {id:2,name:"李四",age:20,gender:"女"},
                        {id:3,name:"王五",age:22,gender:"男"}]
            // 创建组件
            class Person extends React.Component{
                render(){
                    // props是只读的
                    const {age,gender,name,speak} = this.props
                    speak(age)
                    return (
                        <ul>
                            <li>姓名：{name}</li>
                            <li>年龄：{age+1}</li>
                            <li>性别：{gender}</li>
                        </ul>  
                        )  
                    
                }
            }
            // 对组件标签属性进行限制
            Person.propTypes = {
                name:PropTypes.string.isRequired, // 限制name为字符串，且必须传
                age:PropTypes.number, // 限制age为数字
                gender:PropTypes.string, // 限制gender为字符串
                speak:PropTypes.func // 限制speak为函数
            }
            // 设置组件标签属性的默认值
            Person.defaultProps = {
                gender:"男",  //默认值
                speak:speak 
            }
            // 渲染组件到页面
            ReactDOM.render(<Person {...names[0]} speak={speak}/>,document.getElementById("test"))
            ReactDOM.render(<Person {...names[1]}/>,document.getElementById("test1"))
            ReactDOM.render(<Person {...names[2]}/>,document.getElementById("test2"))
            function speak(age){
                console.log("我是一个演说家，我今年"+age+"岁");
            }
        </script>
    </body>